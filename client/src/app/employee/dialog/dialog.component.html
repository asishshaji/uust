<h1 class="text-center">Update Profile</h1>

<div class="container d-flex justify-content-center">
  <form [formGroup]="userForm" (ngSubmit)="updateUser()">



    <!-- FirstName -->
    <div class="form-group">
      <label for="firstName">First Name</label>
      <input type="text" id="firstName" class=" form-control" id="firstName" placeholder="Enter firstname"
        formControlName="firstName" name="firstName">
      <div *ngIf="userForm.get('firstName')?.touched && userForm.get('firstName')?.invalid" class="text-danger">

        <div *ngIf="userForm.get('firstName')?.errors?.required">
          First name is required
        </div>

        <div *ngIf="userForm.get('firstName')?.errors?.minlength">
          Minimum 3 characters required
        </div>
      </div>
    </div>

    <!-- LastName -->
    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input type="text" id="lastName" class=" form-control" id="lastName" placeholder="Enter lastname"
        formControlName="lastName" name="lastName">
      <div *ngIf="userForm.get('lastName')?.touched && userForm.get('lastName')?.invalid" class="text-danger">

        <div *ngIf="userForm.get('lastName')?.errors?.required">
          Last name is required
        </div>

        <div *ngIf="userForm.get('lastName')?.errors?.minlength">
          Minimum 3 characters required
        </div>
      </div>
    </div>

    <!-- Imageurl -->
    <div class="form-group">
      <div class="row">
        <div class="col-md-2">
          <img class="float-left avatar" mat-card-sm-image src="{{data?.imageUrl}}" alt="profile image">

        </div>
        <div class="col-md-10">
          <input type="text" id="imageUrl" class="form-control" id="imageUrl" placeholder="Enter imageUrl"
            formControlName="imageUrl" name="imageUrl">
          <div *ngIf="userForm.get('imageUrl')?.touched && userForm.get('imageUrl')?.invalid" class="text-danger">

            <div *ngIf="userForm.get('imageUrl')?.errors?.required">
              Url is required
            </div>

            <div *ngIf="userForm.get('imageUrl')?.errors?.pattern">
              Enter valid url
            </div>

          </div>
        </div>
      </div>


    </div>


    <!-- Password -->
    <div class="form-group">
      <label for="password">Password</label>
      <div class="row">
        <div class="col-md-10">
          <input [type]="hide ? 'password' : 'text'" id="password" class=" form-control" id="password"
            placeholder="Enter password" formControlName="password" name="password">
        </div>
        <div class="col-md-2">
          <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide">
            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
        </div>
        <div *ngIf="userForm.get('password')?.touched && userForm.get('password')?.invalid" class="text-danger">

          <div *ngIf="userForm.get('password')?.errors?.required">
            Password is required
          </div>

          <div *ngIf="userForm.get('password')?.errors?.minlength">
            Minimum 6 characters
          </div>

        </div>
      </div>

    </div>

    <button mat-raised-button [mat-dialog-close]="data" color="primary" type="submit"
      [disabled]="!userForm.valid">Update</button>
    <button mat-button (click)="onNoClick()">No Thanks</button>
  </form>

</div>
